<!DOCTYPE html>
<html>

<head>
    <!-- Include the jQuery CDN before your script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">    

<!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
<!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"> -->

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"
        integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <style>
        .container {
          
            max-width: 1000px;
            /* Adjust container width as needed */
            margin-top: 50px;
            color: #fff;
            font-family: montserrat, Sans-Serif;
            font-weight: 800px;
            line-height: 30px;
        }

        .form-control {
            color: #333;
            /* Set input text color to white */
            height: calc(2.3em + 0.75rem + 0px);
        }
        
        .invalid-feedback {
            color: red;
            /* Set error message color to red */
        }

        /* Hide date of birth placeholder text */
        input[type="date"]::before {
            color: transparent !important;
            content: attr(placeholder);
        
        }
        body{
            background-color: rgb(35, 81, 105);

        }

        input[type="date"]:focus::before {
            content: "" !important;
        }
        #dob{
            /* margin-top: 37px; */
            height: 3rem;
            width: 370px; 
        }
       .bi {
        
        margin-left: -34px;
         color: black;
       }
       
    </style>
    <meta name="csrf-token" content="1Sb0pzjL2giGj9wqCi9X8G3BpDkE3fHZoEThUu8v">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>


</head>

<body>

    <div class="container">
        <form id="NewForm">
            <!-- ... (your existing form fields) ... -->
            <input type="hidden" value="12345678" name="client_order_id">
            <input type="hidden" name="post_id" value="5630">

            <!-- Add other hidden input fields here -->

            <div class="form-row">
                <div class="form-group col-md-4">
                    <label for="firstNameInput">First Name</label>
                    <input type="text" name="first_name" id="firstName" pattern="[A-Z]" class="form-control"
                        placeholder="First Name" onkeydown="upperCaseF(this)">
                    <span id="firstNameError" class="error-message"></span>

                </div>

                <div class="form-group col-md-4">
                    <label for="middleNameInput">Middle Name</label>
                    <input type="text" name="middle_name" id="middleName" pattern="[A-Z]" class="form-control"
                        placeholder="Middle Name" onkeydown="upperCaseF(this)">
                    <span id="middleNameError" class="error-message"></span>
                </div>

                <div class="form-group col-md-4">
                    <label for="lastNameInput">Last Name</label>
                    <input type="text" name="last_name" id="lastName" pattern="[A-Z]" class="form-control" placeholder="Last Name" onkeydown="upperCaseF(this)">
                    <span id="lastNameError" class="error-message"></span>
                </div>
            </div>

            <div class="form-row">
                <div class="form-group col-md-6">
                    <label for="panCardInput">PAN Card Number</label>
                    <input type="text" class="form-control"  id="panCard" name="pancard"
                        placeholder="Enter PAN Card Number" onfocus="this.placeholder=''"
                        onblur="if(this.value==''){this.placeholder='Enter PAN Card Number'}" onkeydown="upperCaseF(this)" maxlength="10">
                    <span id="panCardError" class="error-message"></span>
                </div>
                <div class="form-group col-md-6">
                    <label for="dobInput">Date of Birth</label><br>
                    <!-- <input type="date" class="form-control" id="dob" name="date_of_birth" required
                        placeholder=" "> -->
                   <input type="text"  name="date_of_birth" class="form-control1" id="dob" placeholder="DD/MM/YYYY" />
                   <!-- <span class="bi bi-calendar"></span> -->
                   <span id="boot-icon" class="bi bi-calendar" style="font-size:1.5rem"></span>
                   <!-- <span class="calender123"> <i class="bi bi-calendar"></i></span> -->
                   <!-- <svg xmlns="http://www.w3.org/2000/svg" width="30" height="25" fill="currentColor" class="bi bi-calendar" viewBox="0 0 16 16">
                    <path d="M3.5 0a.5.5 0 0 1 .5.5V1h8V.5a.5.5 0 0 1 1 0V1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h1V.5a.5.5 0 0 1 .5-.5zM1 4v10a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V4H1z"/>
                  </svg> -->
                   
                   <span id="dobError" class="error-message"></span>
                </div>

                <div class="form-group col-md-6">
                    <label for="emailInput">Email Address</label>
                    <input type="email" class="form-control" id="email" name="email"
                        placeholder="Email Address">
                    <span id="emailError" class="error-message"></span>
                </div>


                <div class="form-group col-md-6">
                    <label for="mobileInput">Mobile Number</label>
                    <input type="number" class="form-control" id="mobile" name="mobile_number"
                        placeholder="Mobile Number">
                    <span id="mobileError" class="error-message"></span>
                </div>

                <!-- Add other form fields here -->

                <div class="form-group">
                    <div class="form-check">
                        <input type="checkbox" name="consent" id="consentCheckbox" class="form-check-input">
                        <label class="form-check-label" for="consentCheckbox">By submitting, I provide my consent to
                            retrieve my Credit Information including CIBIL, to check eligibility for this application, I
                            understand that, this may impact my credit score</label>
                        <span id="consentError" class="error-message"></span>
                    </div>
                </div>

                <!-- <button type="submit" onsubmit="submitForm()" class="btn btn-primary">Submit</button> -->
                <button type="button" class="btn btn-primary" id="btnSumbit">Submit</button>

        </form>

    </div>
    


    <!-- Your script using jQuery -->
    <script>
    
    function upperCaseF(a){
    setTimeout(function(){
        a.value = a.value.toUpperCase();
    }, 1);
}
        // Your jQuery code goes here
        $(document).ready(function() {
            // Your code using jQuery functions
            
              var mobile = getCookie("mobile_number");
              
              $('#mobile').val(mobile);
              
              
                // Function to get cookie value by name
                function getCookie(name) {
                const cookies = document.cookie.split(';');
                for (const cookie of cookies) {
                const [cookieName, cookieValue] = cookie.trim().split('=');
                if (cookieName === name) {
                return decodeURIComponent(cookieValue);
                }
                }
                return null;
                }


            $("#btnSumbit").on('click', function() {
                console.log("enter click");

                var firstName = $('#firstName').val();
                var middleName = $('#middleName').val();
                var lastName = $('#lastName').val();
                var panCard = $("#panCard").val();
                var dob = $('#dob').val();
                var email = $('#email').val();
                var mobile = $('#mobile').val();
                var consent = $('#consent').val();

                // console.log("mobilenu" + mobile);

                if (firstName == "") {
                    $("#firstNameError").text('*Please Enter  First Name');
                    $("#firstNameError").css('color', 'red');
                    return false;
                } else {
                    $("#firstNameError").remove();
                }


                // if (middleName == "") {
                //     $("#middleNameError").text('*Please Enter middle name');
                //     $("#middleNameError").css('color', 'red');
                //     return false;
                // } else {
                //     $("#middleNameError").remove();
                // }


                if (lastName == "") {
                    $("#lastNameError").text('*Please Enter last Name');
                    $("#lastNameError").css('color', 'red');
                    return false;
                } else {
                    $("#lastNameError").remove();
                }

               
        

                if (panCard == "") {
                    $("#panCardError").text('*Please Enter Pancard');
                    $("#panCardError").css('color', 'red');
                    return false;
                } else {
                    //const panNumber = $("#panCard").val().trim().toUpperCase();

                    // Define a regular expression pattern for PAN card validation
                    const panNumberPattern = /^[A-Za-z]{5}[0-9]{4}[A-Za-z]{1}$/

                    // Check if the PAN card number matches the pattern
                    if (panNumberPattern.test(panCard)) {
                        $("#panCardError").remove();
                        
                    } else {
                        $("#panCardError").text('*Please Valid Pancard');
                        $("#panCardError").css('color', 'red');
                        return false;

                    }

                }

                if (dob == "") {
                    $("#dobError").text('*Please Enter DOB');
                    $("#dobError").css('color', 'red');
                    return false;
                } else {
                    $("#dobError").remove();
                }
                if (email == "") {
                    $("#emailError").text('*Please Enter Email');
                    $("#emailError").css('color', 'red');
                    return false;
                } else {

                    const emailPattern = /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
                    if(emailPattern.test(email)){
                        $("#emailError").remove();

                    }else{
                        $("#emailError").text('*Please Enter valid Email');
                    $("#emailError").css('color', 'red');
                    return false;
                    }
                }

                if (mobile == "") {
                    $("#mobileError").text('*Please Enter Mobile');
                    $("#mobileError").css('color', 'red');
                    return false;
                } else {
                    // var phonePattern = /^[6-9]\d{9}$/; /^[A-Za-z]{5}[0-9]{4}[A-Za-z]{1}$/
                    

                    const mobileNumberPattern = /^[6789]\d{9}$/;
                    if (mobileNumberPattern.test(mobile)) {
                        // $("#mobileError").remove();
      
                      
                    } else {
                        console.log("not true");
                        $("#mobileError").show();
                        $("#mobileError").text('*Please Valid Mobie number');
                        $("#mobileError").css('color', 'red');
                        return false;
                    }
                    $("#mobileError").remove();

                }


                if (consent == "") {
                    $("#consentError").text('*Please Enter Message');
                    $("#consentError").css('color', 'red');
                    return false;
                } else {
                    $("#consentError").remove();
                }


               

                $.ajax({
                    url: "https://crm.myzeon.com/loancrm/api/cibil-insert-reg",
                    type: "Get",
                    headers: {
                        'X-CSRF-Token': $('meta[name="csrf-token"]').attr('content'),

                    },
                    //dataType   : "json",
                    contentType: "application/json; charset=utf-8",
                    data: {
                        'client_order_id': '123456',
                        'first_name': firstName,
                        'middle_name': middleName,
                        'last_name': lastName,
                        'pancard': panCard,
                        'date_of_birth': dob,
                        'email': email,
                        'mobile_number': mobile

                    },
                    success: function(response) {
                        alert("submitted successfully");
                         window.location.href = "https://www.myzeon.com/?page_id=8049";
                        "https://www.myzeon.com/?page_id=8049"
                        
                    }
                });



            });

           
        });
        
    </script>
    <script>
        

    // dob script here..........

        $(function() {
$( ".form-control1" ).datepicker({
dateFormat : 'dd/mm/yy',

// showOn: "both",


// buttonImageOnly: true,
defaultDate: new Date(),
// buttonText: "Select date",
changeMonth: true,
changeYear: true,
yearRange: "-100:+0"


}); 
        
});</script>
</body>

</html>
